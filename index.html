<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Avinya üíó</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --maroon: #800000;
            --dark-pink: #e75480;
            --soft-pink: #ffc0cb;
            --card-bg: rgba(255, 255, 255, 0.75);
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Poppins', sans-serif;
            transition: background 5s ease-in-out;
            overflow: hidden;
        }

        /* Background Transitions */
        .morning { background: linear-gradient(to bottom, #ff9a9e, #fad0c4); }
        .afternoon { background: linear-gradient(to bottom, #87ceeb, #e0f7fa); }
        .evening { background: linear-gradient(to bottom, #f093fb, #f5576c); }
        .night { background: linear-gradient(to bottom, #2c3e50, #000000); color: white; }

        /* Floating Hearts */
        .heart {
            position: absolute;
            bottom: -100px;
            color: rgba(231, 84, 128, 0.4);
            font-size: 20px;
            z-index: 0;
            animation: moveUp 6s linear infinite;
        }

        @keyframes moveUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* The Paper Card behind texts */
        .text-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 90%;
            border: 2px solid rgba(255, 182, 193, 0.5);
            backdrop-filter: blur(5px);
            color: #333; /* Darker text for readability on card */
        }

        .hidden { display: none !important; }

        h1, h2, .typewriter {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        button {
            background-color: var(--maroon);
            color: white;
            border: none;
            padding: 12px 28px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            margin: 10px;
            transition: opacity 0.3s, transform 0.2s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            font-family: 'Poppins', sans-serif;
        }

        button:hover { transform: scale(1.05); }

        .envelope-wrapper { cursor: pointer; margin: 20px 0; }
        .envelope {
            width: 200px;
            height: 140px;
            background: var(--soft-pink);
            position: relative;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            margin: 0 auto;
        }
        .envelope::before {
            content: '';
            position: absolute;
            top: -90px;
            left: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-bottom: 90px solid #ffb6c1;
        }
        .heart-seal {
            font-size: 50px;
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .typewriter { line-height: 1.5; min-height: 80px; margin-bottom: 10px; }

        .progress-box {
            width: 100%;
            background: #fff;
            border: 2px solid var(--maroon);
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        .bar { width: 0%; height: 35px; background: linear-gradient(to right, var(--dark-pink), var(--maroon)); }
        img { max-width: 250px; border-radius: 20px; margin-top: 15px; }
    </style>
</head>
<body class="morning">

    <audio id="music1" src="song1.mp3"></audio>
    <audio id="music2" src="song2.mp3"></audio>
    <audio id="music3" src="song3.mp3"></audio>

    <div id="page1" class="container">
        <div class="text-card">
            <h2>Hey Avinya, Click On The Heart To Open The Letter</h2>
            <div class="envelope-wrapper" onclick="goToPage(2)">
                <div class="envelope"><div class="heart-seal">‚ù§Ô∏è</div></div>
            </div>
        </div>
    </div>

    <div id="page2" class="container hidden">
        <div class="text-card">
            <h1 id="ques">Do you love me?</h1>
            <div id="btn-group">
                <button onclick="handleResponse(true)">Yes</button>
                <button onclick="handleResponse(false)">No</button>
            </div>
            <div id="answer-reveal" class="hidden">
                <h2 id="answer-text"></h2>
                <div id="answer-media"></div>
                <div id="post-answer-btns"></div>
            </div>
        </div>
    </div>

    <div id="page3" class="container hidden">
        <div id="env-l1" class="text-card envelope-wrapper" onclick="startLetter1()">
            <h2 style="color:var(--maroon)">Things I want to say to you</h2>
            <div class="envelope"><div class="heart-seal">‚úâÔ∏è</div></div>
        </div>
        <div id="l1-content" class="text-card hidden">
            <p id="l1-text" class="typewriter"></p>
            <button id="l1-btn" class="hidden" onclick="cycleL1()">Continue</button>
        </div>
    </div>

    <div id="page4" class="container hidden">
        <div id="env-l2" class="text-card envelope-wrapper" onclick="startLetter2()">
            <h2 style="color:var(--maroon)">More things I've kept hidden in my heart</h2>
            <div class="envelope"><div class="heart-seal">‚úâÔ∏è</div></div>
        </div>
        <div id="l2-content" class="text-card hidden">
            <p id="l2-text" class="typewriter"></p>
            <button id="l2-btn" class="hidden" onclick="cycleL2()">Continue</button>
        </div>
    </div>

    <div id="page5" class="container hidden">
        <div class="text-card">
            <h2 class="typewriter">Do You Want To See How Much I love you?</h2>
            <div class="progress-box"><div id="fill" class="bar"></div></div>
            <h2 id="percent">1%</h2>
            <button id="end-btn" class="hidden" onclick="goToPage(6)">Now end this letter</button>
        </div>
    </div>

    <div id="page6" class="container hidden">
        <div class="text-card">
            <h2 id="friend-msg" class="typewriter"></h2>
            <button id="friend-btn" class="hidden" onclick="goToPage(7)">Continue</button>
        </div>
    </div>

    <div id="page7" class="container hidden">
        <div class="text-card">
            <h1 class="typewriter">Thank You For Giving Your Time <3</h1>
            <h1 class="typewriter" style="color:var(--maroon)">I Love You üíó</h1>
            <p style="font-size: 1.2rem; font-family:'Poppins', sans-serif;">~Dark</p>
            <button onclick="location.reload()">Continue (Back to Start)</button>
        </div>
    </div>

    <script>
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'üíó';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 3 + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }
        setInterval(createHeart, 400);

        const times = ['morning', 'afternoon', 'evening', 'night'];
        let tIdx = 0;
        setInterval(() => {
            document.body.className = times[tIdx];
            tIdx = (tIdx + 1) % times.length;
        }, 10000);

        function typeWriter(elementId, text, btnId, speed = 40) {
            const element = document.getElementById(elementId);
            const btn = document.getElementById(btnId);
            btn.classList.add('hidden');
            element.innerText = '';
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerText += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    btn.classList.remove('hidden');
                }
            }
            type();
        }

        function goToPage(num) {
            document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
            document.getElementById('page' + num).classList.remove('hidden');
            if (num === 6) typeWriter('friend-msg', "I hope this letter doesn't breaks our friendship üôÉ", 'friend-btn');
        }

        function handleResponse(isYes) {
            document.getElementById('btn-group').classList.add('hidden');
            document.getElementById('ques').classList.add('hidden');
            document.getElementById('answer-reveal').classList.remove('hidden');
            const btnArea = document.getElementById('post-answer-btns');
            if(isYes) {
                document.getElementById('answer-text').innerText = "Yay Thank Youu!ü•∞ü•∞üíó";
                document.getElementById('answer-media').innerHTML = `<img src="https://tenor.com/jGNURdg1KdY.gif">`;
                btnArea.innerHTML = `<button onclick="goToPage(3)">Continue</button>`;
            } else {
                document.getElementById('answer-text').innerText = "How dare you!!üò§";
                document.getElementById('answer-media').innerHTML = `<img src="no-cat.jpg">`;
                btnArea.innerHTML = `<button onclick="resetLovePage()">Retry</button>`;
            }
        }

        function resetLovePage() {
            document.getElementById('answer-reveal').classList.add('hidden');
            document.getElementById('btn-group').classList.remove('hidden');
            document.getElementById('ques').classList.remove('hidden');
        }

        let l1Idx = 0;
        const l1Notes = [
            "I know we will never be together, but please allow me to tell you how, in a sky crowded with stars, you are the only moon I see.",
            "How among billions of faces in this world, it is only your eyes I ever search for.",
            "Let me tell you, how you are the fire I would reach for without fear of being burned, the warmth I would choose even knowing the cost.",
            "I know we will never be together, but please allow me to love you aloud. To love you in ways you have never heard and perhaps never felt. Even if only once."
        ];

        function startLetter1() {
            document.getElementById('env-l1').classList.add('hidden');
            document.getElementById('l1-content').classList.remove('hidden');
            document.getElementById('music1').play();
            cycleL1();
        }

        function cycleL1() {
            if(l1Idx < l1Notes.length) {
                typeWriter('l1-text', l1Notes[l1Idx], 'l1-btn');
                l1Idx++;
                if(l1Idx === l1Notes.length) document.getElementById('l1-btn').innerText = "i read your notes";
            } else {
                document.getElementById('music1').pause();
                goToPage(4);
            }
        }

        let l2Idx = 0;
        const l2Notes = [
            "I still remember how we met‚Äîarguing and fighting on the very first day in that GC.\n\nFunny how from that chaos, you became the calm I never knew I needed.",
            "Even now, we fight over the silliest things, and honestly‚Ä¶ that‚Äôs my favorite part of us.\n\nGetting an apology from you has somehow become my favorite little mission, because it reminds me how real, honest, and us we are.",
            "I love the way you are‚Äîthe way you react, the way you speak your heart out, and especially the way you express even the smallest emotions so beautifully.\n\nEvery time you do that, my heart melts‚Ä¶ and I find myself falling for you all over again.",
            "A day without you doesn‚Äôt just feel empty‚Äî\n\nit feels like I‚Äôve spent a whole day in hell, missing your presence, your words, you.",
            "Somewhere between those fights, laughs, apologies, and endless conversations, you became more than my best friend.\n\nYou became the person my heart looks for‚Äîevery single day.",
            "And as this year moves forward, there‚Äôs one thing I‚Äôm sure about‚Äî\n\nI want to spend my 2026 with you, creating new memories, sharing new laughs, fighting over silly things, making up again, and growing together.\n\nNot just as best friends‚Ä¶ but as something more."
        ];

        function startLetter2() {
            document.getElementById('env-l2').classList.add('hidden');
            document.getElementById('l2-content').classList.remove('hidden');
            document.getElementById('music2').play();
            cycleL2();
        }

        function cycleL2() {
            if(l2Idx < l2Notes.length) {
                typeWriter('l2-text', l2Notes[l2Idx], 'l2-btn');
                l2Idx++;
                if(l2Idx === l2Notes.length) document.getElementById('l2-btn').innerText = "I have read everything";
            } else {
                document.getElementById('music2').pause();
                goToPage(5);
                startLoveMeter();
            }
        }

        function startLoveMeter() {
            document.getElementById('music3').play();
            let w = 0;
            const fill = document.getElementById('fill');
            const pct = document.getElementById('percent');
            const interval = setInterval(() => {
                w++;
                fill.style.width = Math.min(w, 100) + '%';
                pct.innerText = w + '%';
                if(w >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        pct.innerHTML = "Sorry beautiful, my love for you cannot be measured. üò≠ü§≠üéÄ";
                        document.getElementById('end-btn').classList.remove('hidden');
                    }, 500);
                }
            }, 60);
        }
    </script>
</body>
</html>
